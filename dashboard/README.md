# Dashboard Service

> i-room í”„ë¡œì íŠ¸ì˜ í†µí•© ëŒ€ì‹œë³´ë“œ ë° ê´€ë¦¬ ì„œë¹„ìŠ¤

> ëª©ì°¨
> - [ğŸ“„ ì„œë¹„ìŠ¤ ì†Œê°œ](#ì„œë¹„ìŠ¤-ì†Œê°œ)
> - [ğŸ§‘â€ğŸ’» ê°œë°œì](#ê°œë°œì)
> - [ğŸ’» ì„œë¹„ìŠ¤ ê°œë°œ ì£¼ì•ˆì ](#ì„œë¹„ìŠ¤-ê°œë°œ-ì£¼ì•ˆì )
> - [ğŸš€ ì‹œì‘ ê°€ì´ë“œ](#ì‹œì‘-ê°€ì´ë“œ)
> - [âš™ï¸ ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
> - [ğŸ—ï¸ ì•„í‚¤í…ì²˜](#ì•„í‚¤í…ì²˜)
> - [ğŸ“‹ ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
> - [ğŸŒ í™˜ê²½ë³„ ì„¤ì •](#í™˜ê²½ë³„-ì„¤ì •)
> - [ğŸ“¡ API ëª…ì„¸](#api-ëª…ì„¸)

<a id="ì„œë¹„ìŠ¤-ì†Œê°œ"></a>

## ğŸ“„ ì„œë¹„ìŠ¤ ì†Œê°œ

i-room ì„œë¹„ìŠ¤ì˜ ì¢…í•© ê´€ë¦¬ ê¸°ëŠ¥ì„ ë‹´ë‹¹í•˜ëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ëŒ€ì‹œë³´ë“œ ë°ì´í„° ì œê³µ, ë„ë©´ ê´€ë¦¬, ìœ„í—˜êµ¬ì—­ ì„¤ì •, PDF ë¬¸ì„œ ì²˜ë¦¬, AI ê¸°ë°˜ ì±—ë´‡, ë¦¬í¬íŠ¸ ìƒì„± ë“± ë‹¤ì–‘í•œ ê´€ë¦¬ ê¸°ëŠ¥ì„ í†µí•©í•˜ì—¬ ì œê³µí•©ë‹ˆë‹¤.

### í•µì‹¬ ê¸°ëŠ¥

- **ëŒ€ì‹œë³´ë“œ**: í˜„ì¥ ì•ˆì „ ì§€í‘œ ë° ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë°ì´í„° ì œê³µ
- **ë„ë©´ ê´€ë¦¬**: ê±´ì„¤ í˜„ì¥ ë„ë©´ ì—…ë¡œë“œ, ì¡°íšŒ, ê´€ë¦¬ ê¸°ëŠ¥
- **ìœ„í—˜êµ¬ì—­ ê´€ë¦¬**: í˜„ì¥ ë‚´ ìœ„í—˜êµ¬ì—­ ì„¤ì • ë° ê´€ë¦¬
- **AI ë¬¸ì„œ ì²˜ë¦¬**: OpenAI ê¸°ë°˜ PDF ë¶„ì„ ë° ì±—ë´‡ ì„œë¹„ìŠ¤
- **ë¦¬í¬íŠ¸ ìƒì„±**: ì•ˆì „ ê´€ë ¨ ë¦¬í¬íŠ¸ ìƒì„± ë° ê´€ë¦¬

<a id="ê°œë°œì"></a>

## ğŸ§‘â€ğŸ’» ê°œë°œì

|             | ì´ì„±í›ˆ                                                      | ì¡°ìŠ¹ë¹ˆ                                                         | ë°°ì†Œì •                                                   |
|-------------|----------------------------------------------------------|-------------------------------------------------------------|-------------------------------------------------------|
| **E-Mail**  | p.plue1881@gmail.com                                     | benscience@naver.com                                        | bsj9278@gmail.com                                     |
| **GitHub**  | [NextrPlue](https://github.com/NextrPlue)                | [changeme4585](https://github.com/changeme4585)             | [BaeSJ1](https://github.com/BaeSJ1)                   |
| **Profile** | <img src="https://github.com/NextrPlue.png" width=100px> | <img src="https://github.com/changeme4585.png" width=100px> | <img src="https://github.com/BaeSJ1.png" width=100px> |

<a id="ì„œë¹„ìŠ¤-ê°œë°œ-ì£¼ì•ˆì "></a>

## ğŸ’» ì„œë¹„ìŠ¤ ê°œë°œ ì£¼ì•ˆì 

### ğŸ“Œ AI í†µí•© ê´€ë¦¬ ì‹œìŠ¤í…œ

> OpenAI APIì™€ Qdrant ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™œìš©í•œ ì§€ëŠ¥í˜• ë¬¸ì„œ ì²˜ë¦¬ ì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.
>
> PDF ë¬¸ì„œì˜ ì„ë² ë”© ìƒì„±, ë²¡í„° ê²€ìƒ‰, ë²ˆì—­ ì„œë¹„ìŠ¤ë¥¼ í†µí•´ í˜„ì¥ ê´€ë¦¬ìê°€ ì•ˆì „ ë§¤ë‰´ì–¼ì„ íš¨ìœ¨ì ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

### ğŸ“Œ ë²¡í„° ë””ë¹„ êµ¬ì¶•

> ì‚°ì—… ì•ˆì „ ì§€ì¹¨ì„œë¥¼ ì˜ì–´ë¡œ ë²ˆì—­ í›„ ì„ë² ë”©í•˜ì—¬ ì €ì¥í•˜ê³ , ìœ ì‚¬ë„ ê²€ìƒ‰ì„ í†µí•´ í•„ìš”í•œ ì •ë³´ë¥¼ ë¹ ë¥´ê²Œ íƒìƒ‰í•©ë‹ˆë‹¤.
>
> ì´ë¥¼ í†µí•´ LLM í”„ë¡¬í”„íŠ¸ì— ë§¥ë½ì„ ë³´ê°•í•˜ì—¬ ì •í™•ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.

### ğŸ“Œ LLMì„ í†µí•œ ë¦¬í¬íŠ¸ ìƒì„±

> GPT APIë¥¼ í™œìš©í•´ ë‚ ì§œë³„ ì‚°ì—… ì•ˆì „ ì§€í‘œ ê¸°ë°˜ ë¦¬í¬íŠ¸ë¥¼ ìë™ ìƒì„±í•©ë‹ˆë‹¤.
>
> í”„ë¡¬í”„íŠ¸ ìµœì í™”ë¥¼ í†µí•´ ì‘ë‹µ í’ˆì§ˆì„ ê°œì„ í•˜ê³ , í˜„ì¥ ê´€ë¦¬ìì—ê²Œ ì´í•´í•˜ê¸° ì‰¬ìš´ í˜•íƒœë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.

<a id="ì‹œì‘-ê°€ì´ë“œ"></a>

## ğŸš€ ì‹œì‘ ê°€ì´ë“œ

### ì‚¬ì „ ì¤€ë¹„ ì‚¬í•­

- Java 17
- Gradle 8.14 ì´ìƒ

### ì„œë¹„ìŠ¤ ì‹¤í–‰

1. **í”„ë¡œì íŠ¸ í´ë¡  ë° ë””ë ‰í† ë¦¬ ì´ë™**
   ```bash
   git clone {ì €ì¥ì†Œ URL}
   cd i-room/dashboard
   ```

2. **Gradleì„ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰**
   ```bash
   ./gradlew bootRun
   ```
   *Windowsì˜ ê²½ìš°:*
   ```bash
   gradlew.bat bootRun
   ```

3. **ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •** (í•„ìˆ˜)
   MySQL ë°ì´í„°ë² ì´ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•˜ë©°, `iroom_dashboard` ë°ì´í„°ë² ì´ìŠ¤ê°€ ìƒì„±ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
   ```sql
   CREATE DATABASE iroom_dashboard;
   ```

4. **ì™¸ë¶€ ì„œë¹„ìŠ¤ ì„¤ì •** (í•„ìˆ˜)
   ```bash
   # í™˜ê²½ë³€ìˆ˜ ì„¤ì •
   export OPENAI_API_KEY=your-openai-api-key
   export TRANSLATE_AUTH_KEY=your-translation-api-key
   ```
    - Kafka: `localhost:9092`
    - Qdrant: `localhost:6333`

5. **ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ì†**
   ì„œë¹„ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ `http://localhost:8085`ì—ì„œ ì„œë¹„ìŠ¤ê°€ í™œì„±í™”ë©ë‹ˆë‹¤.

<a id="ê¸°ìˆ -ìŠ¤íƒ"></a>

## âš™ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **Java 17**: í”„ë¡œê·¸ë˜ë° ì–¸ì–´
- **Spring Boot 3.5.3**: ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë ˆì„ì›Œí¬
- **Spring Data JPA**: ë°ì´í„°ë² ì´ìŠ¤ ORM
- **Spring Cloud 2025.0.0**: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì¸í”„ë¼
- **Spring Cloud Stream**: Kafka ë©”ì‹œì§•
- **Spring Cloud OpenFeign**: ì„ ì–¸ì  REST í´ë¼ì´ì–¸íŠ¸
- **MySQL 8.0**: ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤
- **Qdrant**: ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ (ë¬¸ì„œ ì„ë² ë”©)
- **Apache Kafka**: ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë°
- **OpenAI API**: GPT-4o, DALL-E 3 AI ì„œë¹„ìŠ¤
- **iTextPDF & PDFBox**: PDF ë¬¸ì„œ ì²˜ë¦¬
- **Gradle**: ë¹Œë“œ ë„êµ¬
- **Micrometer**: ë©”íŠ¸ë¦­ ë° ì¶”ì 

<a id="ì•„í‚¤í…ì²˜"></a>

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Gateway     â”‚    â”‚   Dashboard     â”‚    â”‚    MySQL DB     â”‚
â”‚                 â”‚â—„â”€â”€â–ºâ”‚   Service       â”‚â—„â”€â”€â–ºâ”‚   (iroom_       â”‚
â”‚  - JWT Auth     â”‚    â”‚                 â”‚    â”‚   dashboard)    â”‚
â”‚  - Routing      â”‚    â”‚ - Dashboard     â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ - Blueprint     â”‚    â”‚ - dashboards    â”‚
                       â”‚ - DangerArea    â”‚    â”‚ - blueprints    â”‚
                       â”‚ - PDF/AI Chat   â”‚    â”‚ - danger_areas  â”‚
                       â”‚ - Reports       â”‚    â”‚ - reports       â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ - incidents     â”‚
                             â–²  â–²  â–²          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â–¼                â–¼                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Qdrant DB     â”‚ â”‚   Kafka Broker  â”‚ â”‚   OpenAI API    â”‚
    â”‚                 â”‚ â”‚                 â”‚ â”‚                 â”‚
    â”‚ - PDF Vectors   â”‚ â”‚  Topic: iroom   â”‚ â”‚  - GPT-4o       â”‚
    â”‚ - Embeddings    â”‚ â”‚ - AlarmEvent    â”‚ â”‚  - DALL-E 3     â”‚
    â”‚ - Similarity    â”‚ â”‚ - WorkerEvent   â”‚ â”‚  - Embeddings   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â–²
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚     Other Services     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

<a id="ì£¼ìš”-ê¸°ëŠ¥"></a>

## ğŸ“‹ ì£¼ìš” ê¸°ëŠ¥

### 1. ëŒ€ì‹œë³´ë“œ ê´€ë¦¬ (`/dashboards/**`)

- **ë©”íŠ¸ë¦­ ì¡°íšŒ**: `GET /dashboards/metrics/{interval}` (ì¼/ì£¼/ì›”ë³„ í†µê³„)
- **ëŒ€ì‹œë³´ë“œ ë°ì´í„°**: í˜„ì¥ ì•ˆì „ ì§€í‘œ ë° ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- **ì‚¬ê³  í˜„í™©**: ìœ„í—˜ ê°ì§€ ë° ì‚¬ê³  í†µê³„

### 2. ë„ë©´ ê´€ë¦¬ (`/blueprints/**`)

- **ë„ë©´ ë“±ë¡**: `POST /blueprints` (ë©€í‹°íŒŒíŠ¸ íŒŒì¼ ì—…ë¡œë“œ)
- **ë„ë©´ ì¡°íšŒ**: `GET /blueprints/{blueprintId}`
- **ë„ë©´ ëª©ë¡**: `GET /blueprints` (í˜ì´ì§•)
- **ë„ë©´ ìˆ˜ì •**: `PUT /blueprints/{blueprintId}`
- **ë„ë©´ ì‚­ì œ**: `DELETE /blueprints/{blueprintId}`

### 3. ìœ„í—˜êµ¬ì—­ ê´€ë¦¬ (`/danger-areas/**`)

- **ìœ„í—˜êµ¬ì—­ ìƒì„±**: `POST /danger-areas`
- **ìœ„í—˜êµ¬ì—­ ì¡°íšŒ**: `GET /danger-areas/{dangerAreaId}`
- **ìœ„í—˜êµ¬ì—­ ëª©ë¡**: `GET /danger-areas/blueprint/{blueprintId}`
- **ìœ„í—˜êµ¬ì—­ ìˆ˜ì •**: `PUT /danger-areas/{dangerAreaId}`
- **ìœ„í—˜êµ¬ì—­ ì‚­ì œ**: `DELETE /danger-areas/{dangerAreaId}`

### 4. AI ë¬¸ì„œ ì²˜ë¦¬ (`/upload-pdf`, `/chat/**`)

- **PDF ì—…ë¡œë“œ**: `POST /upload-pdf` (PDF ë¬¸ì„œ ì„ë² ë”©)
- **AI ì±—ë´‡**: `POST /chat` (ë¬¸ì„œ ê¸°ë°˜ ì§ˆì˜ì‘ë‹µ)
- **ë²ˆì—­ ì„œë¹„ìŠ¤**: ë‹¤êµ­ì–´ ì§€ì›
- **ë²¡í„° ê²€ìƒ‰**: Qdrantë¥¼ í†µí•œ ìœ ì‚¬ë„ ê²€ìƒ‰

### 5. ë¦¬í¬íŠ¸ ê´€ë¦¬ (`/reports/**`)

- **ë¦¬í¬íŠ¸ ìƒì„±**: `POST /reports`
- **ë¦¬í¬íŠ¸ ì¡°íšŒ**: `GET /reports/{reportId}`
- **ë¦¬í¬íŠ¸ ëª©ë¡**: `GET /reports` (í˜ì´ì§•)

<a id="í™˜ê²½ë³„-ì„¤ì •"></a>

## ğŸŒ í™˜ê²½ë³„ ì„¤ì •

### ë¡œì»¬ ê°œë°œ í™˜ê²½ (ê¸°ë³¸)

- **Database**: `localhost:3306/iroom_dashboard`
- **Kafka**: `localhost:9092`
- **Qdrant**: `localhost:6333`
- **OpenAI API**: í™˜ê²½ë³€ìˆ˜ `OPENAI_API_KEY` í•„ìš”
- **Translation API**: í™˜ê²½ë³€ìˆ˜ `TRANSLATE_AUTH_KEY` í•„ìš”

### Docker í™˜ê²½ (`docker` í”„ë¡œí•„)

- **Database**: `mysql:3306/iroom_dashboard`
- **Kafka**: `kafka:9093`

### Kubernetes í™˜ê²½ (`k8s` í”„ë¡œí•„)

- **Database**: `i-room-mysql/iroom_dashboard`
- **Kafka**: `i-room-kafka:9092`
- **Qdrant**: `i-room-qdrant:6333`

<a id="api-ëª…ì„¸"></a>

## ğŸ“¡ API ëª…ì„¸

ëŒ€ì‹œë³´ë“œ ì„œë¹„ìŠ¤ ê´€ë ¨ API ëª…ì„¸ëŠ” ì•„ë˜ ë§í¬ì˜ 'Dashboard' ì„¹ì…˜ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- [i-room API ëª…ì„¸ì„œ (Notion)](https://disco-mitten-e75.notion.site/API-238f6cd45c7380209227f1f66bddebdd?pvs=73)
